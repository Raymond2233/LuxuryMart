<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>LuxuryMart | Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial;
  background:#f5f5f5;
}

header{
  background:#ff9900;
  color:white;
  padding:15px;
  text-align:center;
}

.card{
  background:white;
  margin:20px;
  padding:20px;
  border-radius:10px;
  box-shadow:0 5px 15px rgba(0,0,0,.15);
}

.card h3{
  margin-top:0;
  color:#ff9900;
}

.info{
  margin:10px 0;
  font-size:16px;
}

.btn{
  width:100%;
  padding:12px;
  margin-top:10px;
  border:none;
  border-radius:6px;
  font-size:16px;
  cursor:pointer;
}

.logout{
  background:#ff3b3b;
  color:white;
}

.shop{
  background:#4caf50;
  color:white;
}
</style>
</head>

<body>

<header>
  <h2>User Dashboard</h2>
</header>

<div class="card">
  <h3>Account Details</h3>
  <div class="info"><b>Name:</b> <span id="name"></span></div>
  <div class="info"><b>Email:</b> <span id="email"></span></div>
  <div class="info"><b>Phone:</b> <span id="phone"></span></div>
</div>

<div class="card">
  <h3>Shopping Info</h3>
  <div class="info"><b>Items in Cart:</b> <span id="cartCount">0</span></div>
</div>

<div class="card">
  <button class="btn shop" onclick="goShop()">Continue Shopping</button>
  <button class="btn logout" onclick="logout()">Logout</button>
</div>

<script>
let logged = localStorage.getItem("loggedUser");
let users = JSON.parse(localStorage.getItem("users")) || [];
let cart  = JSON.parse(localStorage.getItem("cart")) || [];

if(!logged){
  window.location="signup.html";
}

let user = users.find(u=>u.email===logged);

document.getElementById("name").innerText  = user?.name || "";
document.getElementById("email").innerText = user?.email || "";
document.getElementById("phone").innerText = user?.phone || "";

document.getElementById("cartCount").innerText =
  cart.reduce((a,b)=>a+b.qty,0);

function logout(){
  localStorage.removeItem("loggedUser");
  alert("Logged out");
  window.location="signup.html";
}

function goShop(){
  window.location="index.html";
}
</script>

</body>
</html>
